<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <meta content="" name="description">
    <meta content="" name="author">
    <link href=img/favicon.ico rel="shortcut icon">
    <title>IGV - Dev</title>

    <!-- Google Platform JS -->
    <script src="https://apis.google.com/js/platform.js"></script>


</head>

<body>
<button id="google-storage">Google Storage</button>
<button id="google-drive">Google Drive</button>

<div id="igvDiv" style="padding-top: 50px;padding-bottom: 20px; height: auto"></div>


<script type="module">

    import igv from "../js/index.js";
    import {GoogleAuth} from '../node_modules/igv-utils/src/index.js';

    import oauthConfig from './oauthConfig-private.js';


    const options =
        {
            genome: "hg19",
            locus: "slc25a3",
            tracks: [],
            clientId: oauthConfig.client_id,
            apiKey: oauthConfig.apiKey
        };

    igv.createBrowser(document.getElementById('igvDiv'), options)

        .then(async function (browser) {

            document.getElementById("google-storage").onclick = () => {
                browser.loadTrack({
                    name: "Bam",
                    type: "alignment",
                    format: "bam",
                    url: "gs://fc-0d14d0d0-242d-40c8-bc98-055c6639e05d/heart_slc25a3.bam",
                    indexURL: "gs://fc-0d14d0d0-242d-40c8-bc98-055c6639e05d/heart_slc25a3.bam.bai",

                })
            }

            document.getElementById("google-drive").onclick = () => {
                browser.loadTrack({
                    name: "Bam",
                    type: "alignment",
                    format: "cram",
                    url: "https://drive.google.com/file/d/1b7tAs4GjyRz_Ix6Wjr5AxNQY_NXZd1Mo/view?usp=sharing",
                    indexURL: "https://drive.google.com/file/d/1FTzrjG9xw4sm0sMDN6wo1B1ljBKVB4D2/view?usp=sharing",
                })
            }

        })

</script>

</body>

</html>
